package QC345_3;

public class Solution {
    public int maxMoves(int[][] grid) {
        int m = grid.length,n = grid[0].length;
        int[][] dp = new int[m][n];
        dp[0][0] = 0;
        for (int j = 0; j < n; j++) {
            for (int i = 0; i < m; i++) {
                if(j == 0 || dp[i][j]!=0 ){
                    if(i - 1 >= 0 && j + 1 < n && grid[i-1][j+1] > grid[i][j]){
                        dp[i-1][j+1] = Math.max(dp[i-1][j+1], dp[i][j]+1);
                    }
                    if(j + 1 < n && grid[i][j+1] > grid[i][j]){
                        dp[i][j+1] = Math.max(dp[i][j+1], dp[i][j]+1);
                    }
                    if(i + 1 < m && j + 1 < n && grid[i+1][j+1] > grid[i][j]){
                        dp[i+1][j+1] = Math.max(dp[i+1][j+1], dp[i][j]+1);
                    }
                }
            }
        }
        int max = 0;
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                max = Math.max(max, dp[i][j]);
            }
        }
        return max;
    }

    public static void main(String[] args) {
        Solution s = new Solution();
        s.maxMoves(new int[][]
                        {{65,200,263,220,91,183,2,187,175,61,225,120,39},
                                {111,242,294,31,241,90,145,25,262,214,145,71,294},
                                {152,25,240,69,279,238,222,9,137,277,8,143,143},
                                {189,31,86,250,20,63,188,209,75,22,127,272,110},
                                {122,94,298,25,90,169,68,3,208,274,202,135,275},
                                {205,20,171,90,70,272,280,138,142,151,80,122,130},
                                {284,272,271,269,265,134,185,243,247,50,283,20,232},
                                {266,236,265,234,249,62,98,130,122,226,285,168,204},
                                {231,24,256,101,142,28,268,82,111,63,115,13,144},
                                {277,277,31,144,49,132,28,138,133,29,286,45,93},
                                {163,96,25,9,3,159,148,59,25,81,233,127,12},
                                {127,38,31,209,300,256,15,43,74,64,73,141,200}}
                );
    }
}
